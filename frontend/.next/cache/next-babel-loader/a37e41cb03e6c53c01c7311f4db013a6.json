{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from \"next/router\";\nimport { gql, useQuery } from '@apollo/client';\nimport { useState, useContext } from 'react';\nimport AppContext from \"./context\";\nimport { Button, Card, CardBody, CardImg, CardText, CardTitle, Row, Col } from \"reactstrap\";\nimport { InputGroup, InputGroupAddon, Input } from \"reactstrap\";\n\nfunction Dishes(props) {\n  const {\n    0: restaurantID,\n    1: setRestaurantID\n  } = useState();\n  const {\n    addItem\n  } = useContext(AppContext);\n  const GET_RESTAURANT_DISHES = gql`\n  query($id: ID!) {\n    restaurant(id: $id) {\n      id\n      name\n      dishes {\n        id\n        name\n        description\n        price\n        image {\n          url\n        }\n      }\n    }\n  }\n`;\n  const router = useRouter();\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(GET_RESTAURANT_DISHES, {\n    variables: {\n      id: props.restId\n    }\n  });\n  if (loading) return __jsx(\"p\", null, \"Loading...\");\n  if (error) return __jsx(\"p\", null, \"ERROR here\");\n  if (!data) return __jsx(\"p\", null, \"Not found\");\n  let restaurant = data.restaurant; //searchquery and then list out\n\n  if (props.restId > 0) {\n    if (props.query) {\n      let searchQuery = restaurant.dishes.filter(res => {\n        if (res.name.toLowerCase().includes(props.query)) {\n          return res;\n        }\n      });\n\n      if (searchQuery.length > 0) {\n        const dishList = searchQuery.map(res => __jsx(Col, {\n          xs: \"6\",\n          sm: \"4\",\n          style: {\n            padding: 0\n          },\n          key: res.id\n        }, __jsx(Card, {\n          style: {\n            margin: \"0 10px\"\n          }\n        }, __jsx(CardImg, {\n          top: true,\n          style: {\n            height: 150,\n            width: 150\n          },\n          src: `http://localhost:1337${res.image.url}`\n        }), __jsx(CardBody, null, __jsx(CardTitle, null, res.name), __jsx(CardText, null, res.description)), __jsx(\"div\", {\n          className: \"card-footer\"\n        }, __jsx(Button, {\n          color: \"info\",\n          outline: true,\n          color: \"primary\",\n          onClick: () => addItem(res)\n        }, \"+ Add To Cart\")))));\n        return __jsx(React.Fragment, null, dishList);\n      } else {\n        return __jsx(\"h2\", null, \"No such dish\");\n      }\n    } else {\n      return __jsx(React.Fragment, null, restaurant.dishes.map(res => __jsx(Col, {\n        xs: \"6\",\n        sm: \"4\",\n        style: {\n          padding: 0\n        },\n        key: res.id\n      }, __jsx(Card, {\n        style: {\n          margin: \"0 10px\"\n        }\n      }, __jsx(CardImg, {\n        top: true,\n        style: {\n          height: 150,\n          width: 150\n        },\n        src: `http://localhost:1337${res.image.url}`\n      }), __jsx(CardBody, null, __jsx(CardTitle, null, res.name), __jsx(CardText, null, res.description)), __jsx(\"div\", {\n        className: \"card-footer\"\n      }, __jsx(Button, {\n        color: \"info\",\n        outline: true,\n        color: \"primary\",\n        onClick: () => addItem(res)\n      }, \"+ Add To Cart\"))))));\n    }\n  } else {\n    return \"\";\n  }\n}\n\nexport default Dishes;\n/*\r\n<div>\r\n    <InputGroup>\r\n            <InputGroupAddon addonType=\"append\"> Dishes Search </InputGroupAddon>\r\n            <Input \r\n                onChange={(e) =>\r\n                  setQuery(e.target.value.toLocaleLowerCase())\r\n                  }\r\n                  value={query}\r\n            />\r\n            </InputGroup>\r\n      </div>\r\n      */","map":null,"metadata":{},"sourceType":"module"}